{"ast":null,"code":"import _asyncToGenerator from \"/Users/constantin-bogdanbumbeneci/Desktop/Licenta/Diploma/Proiect/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Chart, BarElement, BarController, CategoryScale, Decimation, Filler, Legend, Title, Tooltip, LinearScale, LineElement, LineController, PointElement } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Service/plant.service\";\nimport * as i2 from \"src/app/Service/energy.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nexport class PlantSelectedComponent {\n  constructor(plantService, energyService) {\n    this.plantService = plantService;\n    this.energyService = energyService;\n    Chart.register(BarElement, BarController, CategoryScale, Decimation, Filler, Legend, Title, Tooltip, LinearScale, LineElement, LineController, PointElement);\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this._selectedPlantCopy = JSON.parse(JSON.stringify(_this.plantService.getSelectedPlant())); //DEEP COPY\n\n      _this._energy = (yield _this.energyService.getEnergies()).filter(e => e.plant.name == _this._selectedPlantCopy.name)[0];\n      console.log(_this._energy);\n      console.log(_this._energy); //   const dataCurrentAndVoltage = {\n      //     labels: this._energy.todayHours,\n      //     datasets: [\n      //       {\n      //         label: 'Current',\n      //         data: this._energy.todayCurrent,\n      //         borderColor: 'rgb(83, 13, 192)',\n      //         backgroundColor: 'rgb(83, 13, 192)',\n      //         tension: 0.1,\n      //         yAxisID: 'y',\n      //       },\n      //       {\n      //         label: 'Voltage',\n      //         data: this._energy.todayVoltage,\n      //         borderColor: 'rgb(83, 192, 192)',\n      //         backgroundColor: 'rgb(83, 192, 192)',\n      //         tension: 0.1,\n      //         yAxisID: 'y1',\n      //       }\n      //     ],\n      //   };\n      //   this._myChartCurrentAndVoltage = new Chart(\"myChartCurrentAndVoltage\", {\n      //     type: 'line',\n      //     data: dataCurrentAndVoltage,\n      //     options: {\n      //       scales: {\n      //         y: {\n      //           type: 'linear',\n      //           display: true,\n      //           position: 'left',\n      //           ticks: {\n      //             // Include a dollar sign in the ticks\n      //             callback: function(value, index, ticks) {\n      //                 return  value + ' A';\n      //             }\n      //           }\n      //         },\n      //         y1: {\n      //           type: 'linear',\n      //           display: true,\n      //           position: 'right',\n      //           grid: {\n      //             drawOnChartArea: false, // only want the grid lines for one axis to show up\n      //           },\n      //           ticks: {\n      //             // Include a dollar sign in the ticks\n      //             callback: function(value, index, ticks) {\n      //                 return  value + ' V';\n      //             }\n      //           }\n      //         }\n      //       },\n      //       plugins:{\n      //         datalabels: {\n      //           formatter: function(value, context) {\n      //             return '' ;\n      //           }\n      //         }\n      //       }\n      //     }\n      //   });\n      //   this._myChartPowerFactor = new Chart(\"myChartPowerFactor\", {\n      //     type: 'bar',\n      //     data: {\n      //         labels: this._energy.todayHours,\n      //         datasets: [{\n      //             label: 'Power factor',\n      //             data: this._energy.todayPowerFactor,\n      //             backgroundColor: [\n      //                 'rgba(255, 99, 132, 0.55)',\n      //             ],\n      //             borderColor: [\n      //                 'rgba(255, 99, 132, 1)',\n      //             ],\n      //             borderWidth: 1\n      //         }]\n      //     },\n      //     options: {\n      //       elements: {\n      //         bar: {\n      //           borderWidth: 2,\n      //         }\n      //       },\n      //         scales: {\n      //             y: {\n      //                 beginAtZero: false,\n      //                 ticks: {\n      //                   // Include a dollar sign in the ticks\n      //                   callback: function(value, index, ticks) {\n      //                       return  value  + '%';\n      //                   }\n      //                 }\n      //             }\n      //         },\n      //         plugins:{\n      //           datalabels: {\n      //             formatter: function(value, context) {\n      //               return '' ;\n      //             }\n      //           }\n      //         }\n      //     }\n      // });\n      //  this._todayPowerChart = new Chart(\"myAreaChartPower\", {\n      //   type: 'line',\n      //   data: {\n      //     labels: this._energy.todayHours,\n      //     datasets: [{\n      //       label: \"Power\",\n      //       tension: 0.5,\n      //       backgroundColor: \"rgba(2,117,216,0.2)\",\n      //       borderColor: \"rgba(2,117,216,1)\",\n      //       pointRadius: 5,\n      //       pointBackgroundColor: \"rgba(2,117,216,1)\",\n      //       pointBorderColor: \"rgba(255,255,255,0.8)\",\n      //       pointHoverRadius: 5,\n      //       pointHoverBackgroundColor: \"rgba(2,117,216,1)\",\n      //       pointHitRadius: 50,\n      //       pointBorderWidth: 2,\n      //       data: this._energy.todayPower,\n      //       fill: {\n      //         target: 'origin',\n      //         above: 'rgb(2,117,216,0.2)',   // Area will be red above the origin\n      //         below: 'rgb(2,117,216,0.2)'    // And blue below the origin\n      //       }\n      //     }],\n      //   },\n      //   options: {\n      //     scales: {\n      //       x: {\n      //       },\n      //       y: {\n      //         beginAtZero: true,\n      //         ticks: {\n      //           // Include a dollar sign in the ticks\n      //           callback: function(value, index, ticks) {\n      //               return  value + ' kW';\n      //           }\n      //         }\n      //       },\n      //     },\n      //     plugins:{\n      //       datalabels: {\n      //         formatter: function(value, context) {\n      //           return '' ;\n      //         }\n      //       }\n      //     }\n      //   }\n      // });\n      // this._thisYearEnergyChart = new Chart(\"myChartYearContribution\", {\n      //   type: 'bar',\n      //   data: {\n      //     labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'],\n      //     datasets: [{\n      //       label: \"Energy Contribution\",\n      //       backgroundColor: \"rgba(0,198,152,0.5)\",\n      //       borderColor: \"rgb(0,198,152,1)\",\n      //       data: this._energy.thisYearEnergy,\n      //     }],\n      //   },\n      //   options: {\n      //     indexAxis: 'y',\n      //     elements: {\n      //       bar: {\n      //         borderWidth: 2,\n      //       }\n      //     },\n      //     responsive: true,\n      //     scales: {\n      //       x: {\n      //         ticks: {\n      //           // Include a dollar sign in the ticks\n      //           callback: function(value, index, ticks) {\n      //               return  value + ' MWh';\n      //           }\n      //         }\n      //       },\n      //       y: {\n      //       },\n      //     },\n      //     plugins:{\n      //       datalabels: {\n      //         formatter: function(value, context) {\n      //           return '' ;\n      //         }\n      //       }\n      //     }\n      //   }\n      // });\n    })();\n  }\n\n  getSelectedPlant() {\n    return this.plantService.getSelectedPlant();\n  }\n\n  getEnergy() {\n    return this._energy;\n  }\n\n  removeSelectedPlant() {\n    this.plantService.setSelectedPlant(null);\n    localStorage.removeItem(\"selectedPlant\");\n  }\n\n  getThisYear() {\n    return new Date().toISOString().substring(0, 4);\n  }\n\n  updatePlantByName(plant) {\n    this.plantService.updatePlantByName(this.plantService.getSelectedPlant().name, plant).subscribe(v => {\n      console.log(v);\n    }, err => {\n      console.log(err);\n    }, () => {\n      console.log('Gata');\n    });\n  }\n\n}\n\nPlantSelectedComponent.ɵfac = function PlantSelectedComponent_Factory(t) {\n  return new (t || PlantSelectedComponent)(i0.ɵɵdirectiveInject(i1.PlantService), i0.ɵɵdirectiveInject(i2.EnergyService));\n};\n\nPlantSelectedComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PlantSelectedComponent,\n  selectors: [[\"app-plant-selected\"]],\n  decls: 71,\n  vars: 10,\n  consts: [[1, \"card\", 2, \"width\", \"100%\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-subtitle\"], [1, \"solid\"], [1, \"card-text\"], [\"for\", \"plantName\"], [\"type\", \"text\", \"id\", \"plantName\", \"name\", \"plantName\", 3, \"ngModel\", \"ngModelChange\"], [1, \"formfield\"], [\"for\", \"plantDescription\"], [\"name\", \"plantDescription\", \"id\", \"plantDescription\", \"cols\", \"30\", \"rows\", \"2\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"link\"], [\"type\", \"text\", \"id\", \"link\", \"name\", \"link\", 3, \"ngModel\", \"ngModelChange\"], [\"routerLink\", \"\", 1, \"card-link\", 3, \"click\"], [1, \"card\", 2, \"width\", \"18rem\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"fas\", \"fa-chart-line\", \"me-1\"], [\"id\", \"myChartCurrentAndVoltage\", \"width\", \"100%\", \"height\", \"35\"], [1, \"fas\", \"fa-chart-bar\", \"me-1\"], [\"id\", \"myChartPowerFactor\", \"width\", \"100%\", \"height\", \"35\"], [1, \"fas\", \"fa-chart-area\", \"me-1\"], [\"id\", \"myAreaChartPower\", \"width\", \"100%\", \"height\", \"35\"], [\"id\", \"myChartYearContribution\", \"width\", \"100%\", \"height\", \"35\"]],\n  template: function PlantSelectedComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"h5\", 2);\n      i0.ɵɵtext(5, \"Plant \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"h6\", 3);\n      i0.ɵɵtext(7);\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"hr\", 4);\n      i0.ɵɵelementStart(13, \"form\", 5)(14, \"label\", 6);\n      i0.ɵɵtext(15, \"Plant name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function PlantSelectedComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx._selectedPlantCopy.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"br\");\n      i0.ɵɵelementStart(18, \"p\", 8)(19, \"label\", 9);\n      i0.ɵɵtext(20, \"Plant description:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"textarea\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function PlantSelectedComponent_Template_textarea_ngModelChange_21_listener($event) {\n        return ctx._selectedPlantCopy.description = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"label\", 11);\n      i0.ɵɵtext(23, \"Endpoint: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function PlantSelectedComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx._selectedPlantCopy.link = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"a\", 13);\n      i0.ɵɵlistener(\"click\", function PlantSelectedComponent_Template_a_click_26_listener() {\n        return ctx.removeSelectedPlant();\n      });\n      i0.ɵɵtext(27, \"Unselect\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"a\", 13);\n      i0.ɵɵlistener(\"click\", function PlantSelectedComponent_Template_a_click_28_listener() {\n        return ctx.updatePlantByName({\n          name: ctx._selectedPlantCopy.name,\n          description: ctx._selectedPlantCopy.description,\n          power: ctx._selectedPlantCopy.power,\n          actualPower: ctx._selectedPlantCopy.actualPower,\n          link: ctx._selectedPlantCopy.link\n        });\n      });\n      i0.ɵɵtext(29, \"Update\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\");\n      i0.ɵɵelement(31, \"br\");\n      i0.ɵɵelementStart(32, \"h1\");\n      i0.ɵɵtext(33, \"Statistics\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(34, \"br\");\n      i0.ɵɵelementStart(35, \"div\", 14)(36, \"div\", 1)(37, \"h5\", 2);\n      i0.ɵɵtext(38, \"Energy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"h6\", 15);\n      i0.ɵɵtext(40, \"Total production\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"p\", 5);\n      i0.ɵɵtext(42);\n      i0.ɵɵelement(43, \"br\");\n      i0.ɵɵtext(44);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(45, \"br\");\n      i0.ɵɵelementStart(46, \"div\", 16)(47, \"div\", 17);\n      i0.ɵɵelement(48, \"i\", 18);\n      i0.ɵɵtext(49, \" Today Current & Voltage \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\", 1);\n      i0.ɵɵelement(51, \"canvas\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(52, \"br\");\n      i0.ɵɵelementStart(53, \"div\", 16)(54, \"div\", 17);\n      i0.ɵɵelement(55, \"i\", 20);\n      i0.ɵɵtext(56, \" Today Power Factor \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 1);\n      i0.ɵɵelement(58, \"canvas\", 21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(59, \"div\", 16)(60, \"div\", 17);\n      i0.ɵɵelement(61, \"i\", 22);\n      i0.ɵɵtext(62, \" Today Power \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"div\", 1);\n      i0.ɵɵelement(64, \"canvas\", 23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(65, \"div\", 16)(66, \"div\", 17);\n      i0.ɵɵelement(67, \"i\", 20);\n      i0.ɵɵtext(68, \" This year Contribution \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"div\", 1);\n      i0.ɵɵelement(70, \"canvas\", 24);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"Plant Id: \", ctx._selectedPlantCopy.id, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\" Nominal power: \", +ctx._selectedPlantCopy.power * 1000, \" kW / Actual power: \", (+ctx._selectedPlantCopy.actualPower / 1000).toPrecision(5), \" kW \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Status: \", ctx._selectedPlantCopy.onlineStatus, \" \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx._selectedPlantCopy.name);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx._selectedPlantCopy.description);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx._selectedPlantCopy.link);\n      i0.ɵɵadvance(18);\n      i0.ɵɵtextInterpolate1(\" Today: \", ctx.getEnergy().todayEnergy.toPrecision(7), \" kWh \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\" \", ctx.getThisYear(), \" : \", ctx.getEnergy().thisYearTotalEnergy.toPrecision(7), \" MWh \");\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLinkWithHref],\n  styles: [\"button[_ngcontent-%COMP%]{\\n    background-color: #42545C;\\n    color: white;\\n}\\n\\nbutton[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{\\n    background-color: #740b28;\\n    color: white;\\n    animation-duration: 0.35s;\\n}\\n\\n#divChart[_ngcontent-%COMP%]{\\n    display: block;\\n    width: 400px;\\n    height: 4000px;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px 20px;\\n    margin: 8px 0;\\n    box-sizing: border-box;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYW50LXNlbGVjdGVkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1oseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksY0FBYztJQUNkLFlBQVk7SUFDWixjQUFjO0FBQ2xCOztBQUVFO0lBQ0UsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isc0JBQXNCO0VBQ3hCIiwiZmlsZSI6InBsYW50LXNlbGVjdGVkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b257XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQyNTQ1QztcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbmJ1dHRvbiA6aG92ZXJ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzc0MGIyODtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjM1cztcbn1cblxuI2RpdkNoYXJ0e1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBoZWlnaHQ6IDQwMDBweDtcbn1cblxuICBpbnB1dFt0eXBlPXRleHRdLCB0ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMTJweCAyMHB4O1xuICAgIG1hcmdpbjogOHB4IDA7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuXG4gIFxuXG5cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/constantin-bogdanbumbeneci/Desktop/Licenta/Diploma/Proiect/frontend/src/app/Components/plant-selected/plant-selected.component.ts"],"names":["Chart","BarElement","BarController","CategoryScale","Decimation","Filler","Legend","Title","Tooltip","LinearScale","LineElement","LineController","PointElement","i0","i1","i2","i3","i4","PlantSelectedComponent","constructor","plantService","energyService","register","ngOnInit","_selectedPlantCopy","JSON","parse","stringify","getSelectedPlant","_energy","getEnergies","filter","e","plant","name","console","log","getEnergy","removeSelectedPlant","setSelectedPlant","localStorage","removeItem","getThisYear","Date","toISOString","substring","updatePlantByName","subscribe","v","err","ɵfac","PlantSelectedComponent_Factory","t","ɵɵdirectiveInject","PlantService","EnergyService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PlantSelectedComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","PlantSelectedComponent_Template_input_ngModelChange_16_listener","$event","PlantSelectedComponent_Template_textarea_ngModelChange_21_listener","description","PlantSelectedComponent_Template_input_ngModelChange_24_listener","link","PlantSelectedComponent_Template_a_click_26_listener","PlantSelectedComponent_Template_a_click_28_listener","power","actualPower","ɵɵadvance","ɵɵtextInterpolate1","id","ɵɵtextInterpolate2","toPrecision","onlineStatus","ɵɵproperty","todayEnergy","thisYearTotalEnergy","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","NgControlStatus","NgModel","RouterLinkWithHref","styles"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,UAAhB,EAA4BC,aAA5B,EAA2CC,aAA3C,EAA0DC,UAA1D,EAAsEC,MAAtE,EAA8EC,MAA9E,EAAsFC,KAAtF,EAA6FC,OAA7F,EAAsGC,WAAtG,EAAmHC,WAAnH,EAAgIC,cAAhI,EAAgJC,YAAhJ,QAAoK,UAApK;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,6BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,MAAMC,sBAAN,CAA6B;AAChCC,EAAAA,WAAW,CAACC,YAAD,EAAeC,aAAf,EAA8B;AACrC,SAAKD,YAAL,GAAoBA,YAApB;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACArB,IAAAA,KAAK,CAACsB,QAAN,CAAerB,UAAf,EAA2BC,aAA3B,EAA0CC,aAA1C,EAAyDC,UAAzD,EAAqEC,MAArE,EAA6EC,MAA7E,EAAqFC,KAArF,EAA4FC,OAA5F,EAAqGC,WAArG,EAAkHC,WAAlH,EAA+HC,cAA/H,EAA+IC,YAA/I;AACH;;AACKW,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,MAAA,KAAI,CAACC,kBAAL,GAA0BC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAI,CAACP,YAAL,CAAkBQ,gBAAlB,EAAf,CAAX,CAA1B,CADa,CAC+E;;AAC5F,MAAA,KAAI,CAACC,OAAL,GAAe,OAAO,KAAI,CAACR,aAAL,CAAmBS,WAAnB,EAAP,EAAyCC,MAAzC,CAAgDC,CAAC,IAAIA,CAAC,CAACC,KAAF,CAAQC,IAAR,IAAgB,KAAI,CAACV,kBAAL,CAAwBU,IAA7F,EAAmG,CAAnG,CAAf;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACP,OAAjB;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACP,OAAjB,EAJa,CAKb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlMa;AAmMhB;;AACDD,EAAAA,gBAAgB,GAAG;AACf,WAAO,KAAKR,YAAL,CAAkBQ,gBAAlB,EAAP;AACH;;AACDS,EAAAA,SAAS,GAAG;AACR,WAAO,KAAKR,OAAZ;AACH;;AACDS,EAAAA,mBAAmB,GAAG;AAClB,SAAKlB,YAAL,CAAkBmB,gBAAlB,CAAmC,IAAnC;AACAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,eAAxB;AACH;;AACDC,EAAAA,WAAW,GAAG;AACV,WAAO,IAAIC,IAAJ,GAAWC,WAAX,GAAyBC,SAAzB,CA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","sourcesContent":["import { Chart, BarElement, BarController, CategoryScale, Decimation, Filler, Legend, Title, Tooltip, LinearScale, LineElement, LineController, PointElement } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Service/plant.service\";\nimport * as i2 from \"src/app/Service/energy.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nexport class PlantSelectedComponent {\n    constructor(plantService, energyService) {\n        this.plantService = plantService;\n        this.energyService = energyService;\n        Chart.register(BarElement, BarController, CategoryScale, Decimation, Filler, Legend, Title, Tooltip, LinearScale, LineElement, LineController, PointElement);\n    }\n    async ngOnInit() {\n        this._selectedPlantCopy = JSON.parse(JSON.stringify(this.plantService.getSelectedPlant())); //DEEP COPY\n        this._energy = (await this.energyService.getEnergies()).filter(e => e.plant.name == this._selectedPlantCopy.name)[0];\n        console.log(this._energy);\n        console.log(this._energy);\n        //   const dataCurrentAndVoltage = {\n        //     labels: this._energy.todayHours,\n        //     datasets: [\n        //       {\n        //         label: 'Current',\n        //         data: this._energy.todayCurrent,\n        //         borderColor: 'rgb(83, 13, 192)',\n        //         backgroundColor: 'rgb(83, 13, 192)',\n        //         tension: 0.1,\n        //         yAxisID: 'y',\n        //       },\n        //       {\n        //         label: 'Voltage',\n        //         data: this._energy.todayVoltage,\n        //         borderColor: 'rgb(83, 192, 192)',\n        //         backgroundColor: 'rgb(83, 192, 192)',\n        //         tension: 0.1,\n        //         yAxisID: 'y1',\n        //       }\n        //     ],\n        //   };\n        //   this._myChartCurrentAndVoltage = new Chart(\"myChartCurrentAndVoltage\", {\n        //     type: 'line',\n        //     data: dataCurrentAndVoltage,\n        //     options: {\n        //       scales: {\n        //         y: {\n        //           type: 'linear',\n        //           display: true,\n        //           position: 'left',\n        //           ticks: {\n        //             // Include a dollar sign in the ticks\n        //             callback: function(value, index, ticks) {\n        //                 return  value + ' A';\n        //             }\n        //           }\n        //         },\n        //         y1: {\n        //           type: 'linear',\n        //           display: true,\n        //           position: 'right',\n        //           grid: {\n        //             drawOnChartArea: false, // only want the grid lines for one axis to show up\n        //           },\n        //           ticks: {\n        //             // Include a dollar sign in the ticks\n        //             callback: function(value, index, ticks) {\n        //                 return  value + ' V';\n        //             }\n        //           }\n        //         }\n        //       },\n        //       plugins:{\n        //         datalabels: {\n        //           formatter: function(value, context) {\n        //             return '' ;\n        //           }\n        //         }\n        //       }\n        //     }\n        //   });\n        //   this._myChartPowerFactor = new Chart(\"myChartPowerFactor\", {\n        //     type: 'bar',\n        //     data: {\n        //         labels: this._energy.todayHours,\n        //         datasets: [{\n        //             label: 'Power factor',\n        //             data: this._energy.todayPowerFactor,\n        //             backgroundColor: [\n        //                 'rgba(255, 99, 132, 0.55)',\n        //             ],\n        //             borderColor: [\n        //                 'rgba(255, 99, 132, 1)',\n        //             ],\n        //             borderWidth: 1\n        //         }]\n        //     },\n        //     options: {\n        //       elements: {\n        //         bar: {\n        //           borderWidth: 2,\n        //         }\n        //       },\n        //         scales: {\n        //             y: {\n        //                 beginAtZero: false,\n        //                 ticks: {\n        //                   // Include a dollar sign in the ticks\n        //                   callback: function(value, index, ticks) {\n        //                       return  value  + '%';\n        //                   }\n        //                 }\n        //             }\n        //         },\n        //         plugins:{\n        //           datalabels: {\n        //             formatter: function(value, context) {\n        //               return '' ;\n        //             }\n        //           }\n        //         }\n        //     }\n        // });\n        //  this._todayPowerChart = new Chart(\"myAreaChartPower\", {\n        //   type: 'line',\n        //   data: {\n        //     labels: this._energy.todayHours,\n        //     datasets: [{\n        //       label: \"Power\",\n        //       tension: 0.5,\n        //       backgroundColor: \"rgba(2,117,216,0.2)\",\n        //       borderColor: \"rgba(2,117,216,1)\",\n        //       pointRadius: 5,\n        //       pointBackgroundColor: \"rgba(2,117,216,1)\",\n        //       pointBorderColor: \"rgba(255,255,255,0.8)\",\n        //       pointHoverRadius: 5,\n        //       pointHoverBackgroundColor: \"rgba(2,117,216,1)\",\n        //       pointHitRadius: 50,\n        //       pointBorderWidth: 2,\n        //       data: this._energy.todayPower,\n        //       fill: {\n        //         target: 'origin',\n        //         above: 'rgb(2,117,216,0.2)',   // Area will be red above the origin\n        //         below: 'rgb(2,117,216,0.2)'    // And blue below the origin\n        //       }\n        //     }],\n        //   },\n        //   options: {\n        //     scales: {\n        //       x: {\n        //       },\n        //       y: {\n        //         beginAtZero: true,\n        //         ticks: {\n        //           // Include a dollar sign in the ticks\n        //           callback: function(value, index, ticks) {\n        //               return  value + ' kW';\n        //           }\n        //         }\n        //       },\n        //     },\n        //     plugins:{\n        //       datalabels: {\n        //         formatter: function(value, context) {\n        //           return '' ;\n        //         }\n        //       }\n        //     }\n        //   }\n        // });\n        // this._thisYearEnergyChart = new Chart(\"myChartYearContribution\", {\n        //   type: 'bar',\n        //   data: {\n        //     labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'],\n        //     datasets: [{\n        //       label: \"Energy Contribution\",\n        //       backgroundColor: \"rgba(0,198,152,0.5)\",\n        //       borderColor: \"rgb(0,198,152,1)\",\n        //       data: this._energy.thisYearEnergy,\n        //     }],\n        //   },\n        //   options: {\n        //     indexAxis: 'y',\n        //     elements: {\n        //       bar: {\n        //         borderWidth: 2,\n        //       }\n        //     },\n        //     responsive: true,\n        //     scales: {\n        //       x: {\n        //         ticks: {\n        //           // Include a dollar sign in the ticks\n        //           callback: function(value, index, ticks) {\n        //               return  value + ' MWh';\n        //           }\n        //         }\n        //       },\n        //       y: {\n        //       },\n        //     },\n        //     plugins:{\n        //       datalabels: {\n        //         formatter: function(value, context) {\n        //           return '' ;\n        //         }\n        //       }\n        //     }\n        //   }\n        // });\n    }\n    getSelectedPlant() {\n        return this.plantService.getSelectedPlant();\n    }\n    getEnergy() {\n        return this._energy;\n    }\n    removeSelectedPlant() {\n        this.plantService.setSelectedPlant(null);\n        localStorage.removeItem(\"selectedPlant\");\n    }\n    getThisYear() {\n        return new Date().toISOString().substring(0, 4);\n    }\n    updatePlantByName(plant) {\n        this.plantService.updatePlantByName(this.plantService.getSelectedPlant().name, plant).subscribe(v => {\n            console.log(v);\n        }, err => {\n            console.log(err);\n        }, () => {\n            console.log('Gata');\n        });\n    }\n}\nPlantSelectedComponent.ɵfac = function PlantSelectedComponent_Factory(t) { return new (t || PlantSelectedComponent)(i0.ɵɵdirectiveInject(i1.PlantService), i0.ɵɵdirectiveInject(i2.EnergyService)); };\nPlantSelectedComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PlantSelectedComponent, selectors: [[\"app-plant-selected\"]], decls: 71, vars: 10, consts: [[1, \"card\", 2, \"width\", \"100%\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-subtitle\"], [1, \"solid\"], [1, \"card-text\"], [\"for\", \"plantName\"], [\"type\", \"text\", \"id\", \"plantName\", \"name\", \"plantName\", 3, \"ngModel\", \"ngModelChange\"], [1, \"formfield\"], [\"for\", \"plantDescription\"], [\"name\", \"plantDescription\", \"id\", \"plantDescription\", \"cols\", \"30\", \"rows\", \"2\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"link\"], [\"type\", \"text\", \"id\", \"link\", \"name\", \"link\", 3, \"ngModel\", \"ngModelChange\"], [\"routerLink\", \"\", 1, \"card-link\", 3, \"click\"], [1, \"card\", 2, \"width\", \"18rem\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"fas\", \"fa-chart-line\", \"me-1\"], [\"id\", \"myChartCurrentAndVoltage\", \"width\", \"100%\", \"height\", \"35\"], [1, \"fas\", \"fa-chart-bar\", \"me-1\"], [\"id\", \"myChartPowerFactor\", \"width\", \"100%\", \"height\", \"35\"], [1, \"fas\", \"fa-chart-area\", \"me-1\"], [\"id\", \"myAreaChartPower\", \"width\", \"100%\", \"height\", \"35\"], [\"id\", \"myChartYearContribution\", \"width\", \"100%\", \"height\", \"35\"]], template: function PlantSelectedComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵelement(1, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"h5\", 2);\n        i0.ɵɵtext(5, \"Plant \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"h6\", 3);\n        i0.ɵɵtext(7);\n        i0.ɵɵelement(8, \"br\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"hr\", 4);\n        i0.ɵɵelementStart(13, \"form\", 5)(14, \"label\", 6);\n        i0.ɵɵtext(15, \"Plant name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function PlantSelectedComponent_Template_input_ngModelChange_16_listener($event) { return ctx._selectedPlantCopy.name = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"br\");\n        i0.ɵɵelementStart(18, \"p\", 8)(19, \"label\", 9);\n        i0.ɵɵtext(20, \"Plant description:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"textarea\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function PlantSelectedComponent_Template_textarea_ngModelChange_21_listener($event) { return ctx._selectedPlantCopy.description = $event; });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"label\", 11);\n        i0.ɵɵtext(23, \"Endpoint: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function PlantSelectedComponent_Template_input_ngModelChange_24_listener($event) { return ctx._selectedPlantCopy.link = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"a\", 13);\n        i0.ɵɵlistener(\"click\", function PlantSelectedComponent_Template_a_click_26_listener() { return ctx.removeSelectedPlant(); });\n        i0.ɵɵtext(27, \"Unselect\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"a\", 13);\n        i0.ɵɵlistener(\"click\", function PlantSelectedComponent_Template_a_click_28_listener() { return ctx.updatePlantByName({ name: ctx._selectedPlantCopy.name, description: ctx._selectedPlantCopy.description, power: ctx._selectedPlantCopy.power, actualPower: ctx._selectedPlantCopy.actualPower, link: ctx._selectedPlantCopy.link }); });\n        i0.ɵɵtext(29, \"Update\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"div\");\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelementStart(32, \"h1\");\n        i0.ɵɵtext(33, \"Statistics\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelementStart(35, \"div\", 14)(36, \"div\", 1)(37, \"h5\", 2);\n        i0.ɵɵtext(38, \"Energy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"h6\", 15);\n        i0.ɵɵtext(40, \"Total production\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"p\", 5);\n        i0.ɵɵtext(42);\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵtext(44);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(45, \"br\");\n        i0.ɵɵelementStart(46, \"div\", 16)(47, \"div\", 17);\n        i0.ɵɵelement(48, \"i\", 18);\n        i0.ɵɵtext(49, \" Today Current & Voltage \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 1);\n        i0.ɵɵelement(51, \"canvas\", 19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(52, \"br\");\n        i0.ɵɵelementStart(53, \"div\", 16)(54, \"div\", 17);\n        i0.ɵɵelement(55, \"i\", 20);\n        i0.ɵɵtext(56, \" Today Power Factor \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 1);\n        i0.ɵɵelement(58, \"canvas\", 21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(59, \"div\", 16)(60, \"div\", 17);\n        i0.ɵɵelement(61, \"i\", 22);\n        i0.ɵɵtext(62, \" Today Power \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"div\", 1);\n        i0.ɵɵelement(64, \"canvas\", 23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(65, \"div\", 16)(66, \"div\", 17);\n        i0.ɵɵelement(67, \"i\", 20);\n        i0.ɵɵtext(68, \" This year Contribution \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"div\", 1);\n        i0.ɵɵelement(70, \"canvas\", 24);\n        i0.ɵɵelementEnd()()();\n    } if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"Plant Id: \", ctx._selectedPlantCopy.id, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\" Nominal power: \", +ctx._selectedPlantCopy.power * 1000, \" kW / Actual power: \", (+ctx._selectedPlantCopy.actualPower / 1000).toPrecision(5), \" kW \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" Status: \", ctx._selectedPlantCopy.onlineStatus, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx._selectedPlantCopy.name);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx._selectedPlantCopy.description);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx._selectedPlantCopy.link);\n        i0.ɵɵadvance(18);\n        i0.ɵɵtextInterpolate1(\" Today: \", ctx.getEnergy().todayEnergy.toPrecision(7), \" kWh \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\" \", ctx.getThisYear(), \" : \", ctx.getEnergy().thisYearTotalEnergy.toPrecision(7), \" MWh \");\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLinkWithHref], styles: [\"button[_ngcontent-%COMP%]{\\n    background-color: #42545C;\\n    color: white;\\n}\\n\\nbutton[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{\\n    background-color: #740b28;\\n    color: white;\\n    animation-duration: 0.35s;\\n}\\n\\n#divChart[_ngcontent-%COMP%]{\\n    display: block;\\n    width: 400px;\\n    height: 4000px;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px 20px;\\n    margin: 8px 0;\\n    box-sizing: border-box;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYW50LXNlbGVjdGVkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1oseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksY0FBYztJQUNkLFlBQVk7SUFDWixjQUFjO0FBQ2xCOztBQUVFO0lBQ0UsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isc0JBQXNCO0VBQ3hCIiwiZmlsZSI6InBsYW50LXNlbGVjdGVkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b257XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQyNTQ1QztcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbmJ1dHRvbiA6aG92ZXJ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzc0MGIyODtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjM1cztcbn1cblxuI2RpdkNoYXJ0e1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBoZWlnaHQ6IDQwMDBweDtcbn1cblxuICBpbnB1dFt0eXBlPXRleHRdLCB0ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMTJweCAyMHB4O1xuICAgIG1hcmdpbjogOHB4IDA7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuXG4gIFxuXG5cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}