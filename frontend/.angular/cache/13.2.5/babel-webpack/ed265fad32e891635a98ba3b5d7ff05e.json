{"ast":null,"code":"import _asyncToGenerator from \"/Users/constantin-bogdanbumbeneci/Desktop/Licenta/Diploma/Proiect/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { BarController, BarElement, CategoryScale, Chart, Decimation, Filler, Legend, LinearScale, LineController, LineElement, PointElement, Title, Tooltip, PieController, ArcElement } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Service/energy.service\";\nexport class GeneralStatisticsComponent {\n  constructor(energyService) {\n    this.energyService = energyService;\n    this._dailyEnergy = new Array();\n    this._yearlyEnergy = new Array();\n    this._contributor = new Array();\n    Chart.register(BarElement, BarController, CategoryScale, Decimation, Filler, Legend, Title, Tooltip, LinearScale, LineElement, LineController, PointElement, PieController, ArcElement);\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log('oninit');\n      _this._energies = _this.energyService.getEnergies();\n\n      _this.energyService.getEnergies().forEach(e => {\n        _this._contributor.push(e.plant.name);\n\n        _this._dailyEnergy.push(e.todayEnergy);\n\n        _this._yearlyEnergy.push(e.thisYearTotalEnergy);\n      });\n    })();\n  }\n\n  ngAfterViewInit() {\n    this._dailyPie = new Chart(\"myDaily\", {\n      type: 'pie',\n      data: {\n        labels: this._contributor,\n        datasets: [{\n          label: \"Energy Contribution\",\n          data: this._dailyEnergy,\n          backgroundColor: ['rgb(255, 159, 64)', 'rgb(255, 205, 86)', 'rgb(0, 163, 51)', 'rgb(54, 162, 235)', 'rgb(153, 102, 255)', 'rgb(201, 203, 207)', 'rgb(0,0,255)']\n        }]\n      },\n      options: {\n        plugins: {\n          title: {\n            display: true,\n            text: 'Daily contribution in kWh'\n          }\n        }\n      }\n    });\n    this._yearlyPie = new Chart(\"myYearly\", {\n      type: 'doughnut',\n      data: {\n        labels: this._contributor,\n        datasets: [{\n          label: \"Energy Contribution\",\n          data: this._yearlyEnergy,\n          backgroundColor: ['rgb(0,0,255)', 'rgb(255, 159, 64)', 'rgb(255, 205, 86)', 'rgb(153, 102, 255)', 'rgb(0, 163, 51)', 'rgb(201, 203, 207)', 'rgb(54, 162, 235)']\n        }]\n      },\n      options: {\n        plugins: {\n          title: {\n            display: true,\n            text: 'Yearly contribution in MWh'\n          }\n        }\n      }\n    });\n  }\n\n}\n\nGeneralStatisticsComponent.ɵfac = function GeneralStatisticsComponent_Factory(t) {\n  return new (t || GeneralStatisticsComponent)(i0.ɵɵdirectiveInject(i1.EnergyService));\n};\n\nGeneralStatisticsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GeneralStatisticsComponent,\n  selectors: [[\"app-general-statistics\"]],\n  inputs: {\n    _energies: \"_energies\"\n  },\n  decls: 19,\n  vars: 0,\n  consts: [[1, \"row\"], [1, \"col-lg-6\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"fas\", \"fa-chart-pie\", \"me-1\"], [1, \"card-body\"], [\"id\", \"myDaily\", \"width\", \"90%\", \"height\", \"30\"], [\"id\", \"myYearly\", \"width\", \"90%\", \"height\", \"30\"]],\n  template: function GeneralStatisticsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n      i0.ɵɵtext(2, \"Statistics\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"br\");\n      i0.ɵɵelementStart(4, \"div\", 0)(5, \"div\", 1)(6, \"div\", 2)(7, \"div\", 3);\n      i0.ɵɵelement(8, \"i\", 4);\n      i0.ɵɵtext(9, \" Daily production \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 5);\n      i0.ɵɵelement(11, \"canvas\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 1)(13, \"div\", 2)(14, \"div\", 3);\n      i0.ɵɵelement(15, \"i\", 4);\n      i0.ɵɵtext(16, \" Yearly production \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 5);\n      i0.ɵɵelement(18, \"canvas\", 7);\n      i0.ɵɵelementEnd()()()()();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJnZW5lcmFsLXN0YXRpc3RpY3MuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["/Users/constantin-bogdanbumbeneci/Desktop/Licenta/Diploma/Proiect/frontend/src/app/Components/general-statistics/general-statistics.component.ts"],"names":["BarController","BarElement","CategoryScale","Chart","Decimation","Filler","Legend","LinearScale","LineController","LineElement","PointElement","Title","Tooltip","PieController","ArcElement","i0","i1","GeneralStatisticsComponent","constructor","energyService","_dailyEnergy","Array","_yearlyEnergy","_contributor","register","ngOnInit","console","log","_energies","getEnergies","forEach","e","push","plant","name","todayEnergy","thisYearTotalEnergy","ngAfterViewInit","_dailyPie","type","data","labels","datasets","label","backgroundColor","options","plugins","title","display","text","_yearlyPie","ɵfac","GeneralStatisticsComponent_Factory","t","ɵɵdirectiveInject","EnergyService","ɵcmp","ɵɵdefineComponent","selectors","inputs","decls","vars","consts","template","GeneralStatisticsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","styles"],"mappings":"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","sourcesContent":["import { BarController, BarElement, CategoryScale, Chart, Decimation, Filler, Legend, LinearScale, LineController, LineElement, PointElement, Title, Tooltip, PieController, ArcElement } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Service/energy.service\";\nexport class GeneralStatisticsComponent {\n    constructor(energyService) {\n        this.energyService = energyService;\n        this._dailyEnergy = new Array();\n        this._yearlyEnergy = new Array();\n        this._contributor = new Array();\n        Chart.register(BarElement, BarController, CategoryScale, Decimation, Filler, Legend, Title, Tooltip, LinearScale, LineElement, LineController, PointElement, PieController, ArcElement);\n    }\n    async ngOnInit() {\n        console.log('oninit');\n        this._energies = this.energyService.getEnergies();\n        this.energyService.getEnergies().forEach(e => {\n            this._contributor.push(e.plant.name);\n            this._dailyEnergy.push(e.todayEnergy);\n            this._yearlyEnergy.push(e.thisYearTotalEnergy);\n        });\n    }\n    ngAfterViewInit() {\n        this._dailyPie = new Chart(\"myDaily\", {\n            type: 'pie',\n            data: {\n                labels: this._contributor,\n                datasets: [{\n                        label: \"Energy Contribution\",\n                        data: this._dailyEnergy,\n                        backgroundColor: [\n                            'rgb(255, 159, 64)',\n                            'rgb(255, 205, 86)',\n                            'rgb(0, 163, 51)',\n                            'rgb(54, 162, 235)',\n                            'rgb(153, 102, 255)',\n                            'rgb(201, 203, 207)',\n                            'rgb(0,0,255)'\n                        ],\n                    }],\n            },\n            options: {\n                plugins: {\n                    title: {\n                        display: true,\n                        text: 'Daily contribution in kWh'\n                    }\n                }\n            }\n        });\n        this._yearlyPie = new Chart(\"myYearly\", {\n            type: 'doughnut',\n            data: {\n                labels: this._contributor,\n                datasets: [{\n                        label: \"Energy Contribution\",\n                        data: this._yearlyEnergy,\n                        backgroundColor: [\n                            'rgb(0,0,255)',\n                            'rgb(255, 159, 64)',\n                            'rgb(255, 205, 86)',\n                            'rgb(153, 102, 255)',\n                            'rgb(0, 163, 51)',\n                            'rgb(201, 203, 207)',\n                            'rgb(54, 162, 235)',\n                        ],\n                    }],\n            },\n            options: {\n                plugins: {\n                    title: {\n                        display: true,\n                        text: 'Yearly contribution in MWh'\n                    },\n                },\n            }\n        });\n    }\n}\nGeneralStatisticsComponent.ɵfac = function GeneralStatisticsComponent_Factory(t) { return new (t || GeneralStatisticsComponent)(i0.ɵɵdirectiveInject(i1.EnergyService)); };\nGeneralStatisticsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: GeneralStatisticsComponent, selectors: [[\"app-general-statistics\"]], inputs: { _energies: \"_energies\" }, decls: 19, vars: 0, consts: [[1, \"row\"], [1, \"col-lg-6\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"fas\", \"fa-chart-pie\", \"me-1\"], [1, \"card-body\"], [\"id\", \"myDaily\", \"width\", \"90%\", \"height\", \"30\"], [\"id\", \"myYearly\", \"width\", \"90%\", \"height\", \"30\"]], template: function GeneralStatisticsComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n        i0.ɵɵtext(2, \"Statistics\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵelementStart(4, \"div\", 0)(5, \"div\", 1)(6, \"div\", 2)(7, \"div\", 3);\n        i0.ɵɵelement(8, \"i\", 4);\n        i0.ɵɵtext(9, \" Daily production \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 5);\n        i0.ɵɵelement(11, \"canvas\", 6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 1)(13, \"div\", 2)(14, \"div\", 3);\n        i0.ɵɵelement(15, \"i\", 4);\n        i0.ɵɵtext(16, \" Yearly production \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 5);\n        i0.ɵɵelement(18, \"canvas\", 7);\n        i0.ɵɵelementEnd()()()()();\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJnZW5lcmFsLXN0YXRpc3RpY3MuY29tcG9uZW50LmNzcyJ9 */\"] });\n"]},"metadata":{},"sourceType":"module"}