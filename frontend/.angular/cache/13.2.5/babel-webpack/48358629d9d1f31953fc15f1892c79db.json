{"ast":null,"code":"import _asyncToGenerator from \"/Users/constantin-bogdanbumbeneci/Desktop/Licenta/Diploma/Proiect/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Service/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginComponent_div_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getErrorCause(), \" \");\n  }\n}\n\nfunction LoginComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5)(5, \"h3\", 6);\n    i0.ɵɵtext(6, \"Login\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 7)(8, \"form\");\n    i0.ɵɵtemplate(9, LoginComponent_div_0_div_9_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementStart(10, \"div\", 9)(11, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.username = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"label\", 11);\n    i0.ɵɵtext(13, \"Username\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 9)(15, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.password = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\", 13);\n    i0.ɵɵtext(17, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 14);\n    i0.ɵɵelement(19, \"input\", 15);\n    i0.ɵɵelementStart(20, \"label\", 16);\n    i0.ɵɵtext(21, \"Remember Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 17)(23, \"input\", 18);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_input_click_23_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.login();\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 19)(25, \"div\", 20)(26, \"a\", 21);\n    i0.ɵɵtext(27, \"Need an account? Sign up!\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isError() == true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.password);\n  }\n}\n\nexport class LoginComponent {\n  constructor(authenticationService, router) {\n    this.authenticationService = authenticationService;\n    this.router = router;\n  }\n\n  ngOnInit() {\n    this._errors = false;\n    this._errorCause = \"Server error\";\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log('apasat');\n      yield (yield _this.authenticationService.login({\n        username: _this.username,\n        password: _this.password,\n        email: null\n      })).forEach(console.log); //  .subscribe(\n      //       (user: CurrentUser) => {\n      //           this._errors = false\n      //           this._errorCause = \"\"\n      //           user.password = this.password\n      //           this.authenticationService.setCurrentUser(user)\n      //           this.router.navigateByUrl(\"/\")\n      //       },\n      //       error =>{\n      //           this._errors = true\n      //           this._errorCause = \"Invalid login data\"\n      //       }\n      //   );\n    })();\n  }\n\n  isAuthenticated() {\n    return this.authenticationService.isAuthenticated();\n  }\n\n  isError() {\n    return this._errors;\n  }\n\n  getErrorCause() {\n    return this._errorCause;\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-user-login\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-lg-5\"], [1, \"card\", \"shadow-lg\", \"border-0\", \"rounded-lg\", \"mt-5\"], [1, \"card-header\"], [1, \"text-center\", \"font-weight-light\", \"my-4\"], [1, \"card-body\"], [\"class\", \"cross-validation-error-message alert alert-danger\", 4, \"ngIf\"], [1, \"form-floating\", \"mb-3\"], [\"id\", \"username\", \"name\", \"username\", \"type\", \"username\", \"placeholder\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"username\"], [\"id\", \"password\", \"name\", \"password\", \"type\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [1, \"form-check\", \"mb-3\"], [\"id\", \"remember-me\", \"type\", \"checkbox\", \"name\", \"remember-me\", 1, \"form-check-input\"], [\"for\", \"remember-me\", 1, \"form-check-label\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-between\", \"mt-4\", \"mb-0\"], [\"value\", \"Submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"card-footer\", \"text-center\", \"py-3\"], [1, \"small\"], [\"routerLink\", \"/register\", \"routerLinkActive\", \"active\"], [1, \"cross-validation-error-message\", \"alert\", \"alert-danger\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoginComponent_div_0_Template, 28, 3, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated());\n    }\n  },\n  directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i2.RouterLinkWithHref, i2.RouterLinkActive],\n  styles: [\".ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]  {\\n    border-left: 5px solid #42A948; \\n}\\n\\n.ng-invalid[_ngcontent-%COMP%]:not(form)  {\\n    border-left: 5px solid #a94442; \\n}\\n\\n.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n    background-color: #fed3d3;\\n    color: #820000;\\n    padding: 1rem;\\n    margin-bottom: 1rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 1rem;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: .5rem;\\n}\\n\\nselect[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: .5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEIsRUFBRSxVQUFVO0FBQzlDOztBQUVBO0lBQ0ksOEJBQThCLEVBQUUsUUFBUTtBQUM1Qzs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsY0FBYztBQUNsQiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5nLXZhbGlkW3JlcXVpcmVkXSwgLm5nLXZhbGlkLnJlcXVpcmVkICB7XG4gICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjNDJBOTQ4OyAvKiBncmVlbiAqL1xufVxuXG4ubmctaW52YWxpZDpub3QoZm9ybSkgIHtcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNhOTQ0NDI7IC8qIHJlZCAqL1xufVxuXG4uYWxlcnQgZGl2IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVkM2QzO1xuICAgIGNvbG9yOiAjODIwMDAwO1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLmZvcm0tZ3JvdXAge1xuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG59XG5cbmxhYmVsIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYm90dG9tOiAuNXJlbTtcbn1cblxuc2VsZWN0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAuNXJlbTtcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/constantin-bogdanbumbeneci/Desktop/Licenta/Diploma/Proiect/frontend/src/app/Components/login/login.component.ts"],"names":["i0","i1","i2","i3","i4","LoginComponent_div_0_div_9_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate1","getErrorCause","LoginComponent_div_0_Template","_r3","ɵɵgetCurrentView","ɵɵtemplate","ɵɵlistener","LoginComponent_div_0_Template_input_ngModelChange_11_listener","$event","ɵɵrestoreView","ctx_r2","username","LoginComponent_div_0_Template_input_ngModelChange_15_listener","ctx_r4","password","ɵɵelement","LoginComponent_div_0_Template_input_click_23_listener","ctx_r5","login","ctx_r0","ɵɵproperty","isError","LoginComponent","constructor","authenticationService","router","ngOnInit","_errors","_errorCause","console","log","email","forEach","isAuthenticated","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","AuthenticationService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginComponent_Template","directives","NgIf","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","NgControlStatus","NgModel","RouterLinkWithHref","RouterLinkActive","styles"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;;AACA,SAASC,mCAAT,CAA6CC,EAA7C,EAAiDC,GAAjD,EAAsD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChEN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV;AACAT,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,MAAM,GAAGX,EAAE,CAACY,aAAH,CAAiB,CAAjB,CAAf;AACAZ,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAACc,kBAAH,CAAsB,GAAtB,EAA2BH,MAAM,CAACI,aAAP,EAA3B,EAAmD,GAAnD;AACH;AAAE;;AACH,SAASC,6BAAT,CAAuCV,EAAvC,EAA2CC,GAA3C,EAAgD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC1D,UAAMW,GAAG,GAAGjB,EAAE,CAACkB,gBAAH,EAAZ;;AACAlB,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,KAAlC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAA/C,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,KAA5D,EAAmE,CAAnE,EAAsE,CAAtE,EAAyE,KAAzE,EAAgF,CAAhF,EAAmF,CAAnF,EAAsF,IAAtF,EAA4F,CAA5F;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV,EAAa,OAAb;AACAT,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,MAAlC;AACAR,IAAAA,EAAE,CAACmB,UAAH,CAAc,CAAd,EAAiBd,mCAAjB,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,KAA5D,EAAmE,CAAnE;AACAL,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,OAApC,EAA6C,EAA7C;AACAR,IAAAA,EAAE,CAACoB,UAAH,CAAc,eAAd,EAA+B,SAASC,6DAAT,CAAuEC,MAAvE,EAA+E;AAAEtB,MAAAA,EAAE,CAACuB,aAAH,CAAiBN,GAAjB;AAAuB,YAAMO,MAAM,GAAGxB,EAAE,CAACY,aAAH,EAAf;AAAmC,aAAOY,MAAM,CAACC,QAAP,GAAkBH,MAAzB;AAAkC,KAA5M;AACAtB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,EAA/B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,EAAV,EAAc,UAAd;AACAT,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,OAApC,EAA6C,EAA7C;AACAR,IAAAA,EAAE,CAACoB,UAAH,CAAc,eAAd,EAA+B,SAASM,6DAAT,CAAuEJ,MAAvE,EAA+E;AAAEtB,MAAAA,EAAE,CAACuB,aAAH,CAAiBN,GAAjB;AAAuB,YAAMU,MAAM,GAAG3B,EAAE,CAACY,aAAH,EAAf;AAAmC,aAAOe,MAAM,CAACC,QAAP,GAAkBN,MAAzB;AAAkC,KAA5M;AACAtB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,EAA/B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,EAAV,EAAc,UAAd;AACAT,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAR,IAAAA,EAAE,CAAC6B,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,EAA1B;AACA7B,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,EAA/B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,EAAV,EAAc,mBAAd;AACAT,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,OAArC,EAA8C,EAA9C;AACAR,IAAAA,EAAE,CAACoB,UAAH,CAAc,OAAd,EAAuB,SAASU,qDAAT,GAAiE;AAAE9B,MAAAA,EAAE,CAACuB,aAAH,CAAiBN,GAAjB;AAAuB,YAAMc,MAAM,GAAG/B,EAAE,CAACY,aAAH,EAAf;AAAmC,aAAOmB,MAAM,CAACC,KAAP,EAAP;AAAwB,KAA5K;AACAhC,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,KAArC,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,GAApD,EAAyD,EAAzD;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,EAAV,EAAc,2BAAd;AACAT,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAM2B,MAAM,GAAGjC,EAAE,CAACY,aAAH,EAAf;AACAZ,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAACkC,UAAH,CAAc,MAAd,EAAsBD,MAAM,CAACE,OAAP,MAAoB,IAA1C;AACAnC,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAACkC,UAAH,CAAc,SAAd,EAAyBD,MAAM,CAACR,QAAhC;AACAzB,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAACkC,UAAH,CAAc,SAAd,EAAyBD,MAAM,CAACL,QAAhC;AACH;AAAE;;AACH,OAAO,MAAMQ,cAAN,CAAqB;AACxBC,EAAAA,WAAW,CAACC,qBAAD,EAAwBC,MAAxB,EAAgC;AACvC,SAAKD,qBAAL,GAA6BA,qBAA7B;AACA,SAAKC,MAAL,GAAcA,MAAd;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,WAAL,GAAmB,cAAnB;AACH;;AACKV,EAAAA,KAAK,GAAG;AAAA;;AAAA;AACVW,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,YAAM,OAAO,KAAI,CAACN,qBAAL,CAA2BN,KAA3B,CAAiC;AAAEP,QAAAA,QAAQ,EAAE,KAAI,CAACA,QAAjB;AAA2BG,QAAAA,QAAQ,EAAE,KAAI,CAACA,QAA1C;AAAoDiB,QAAAA,KAAK,EAAE;AAA3D,OAAjC,CAAP,EACDC,OADC,CACOH,OAAO,CAACC,GADf,CAAN,CAFU,CAIV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBU;AAiBb;;AACDG,EAAAA,eAAe,GAAG;AACd,WAAO,KAAKT,qBAAL,CAA2BS,eAA3B,EAAP;AACH;;AACDZ,EAAAA,OAAO,GAAG;AACN,WAAO,KAAKM,OAAZ;AACH;;AACD1B,EAAAA,aAAa,GAAG;AACZ,WAAO,KAAK2B,WAAZ;AACH;;AAnCuB;;AAqC5BN,cAAc,CAACY,IAAf,GAAsB,SAASC,sBAAT,CAAgCC,CAAhC,EAAmC;AAAE,SAAO,KAAKA,CAAC,IAAId,cAAV,EAA0BpC,EAAE,CAACmD,iBAAH,CAAqBlD,EAAE,CAACmD,qBAAxB,CAA1B,EAA0EpD,EAAE,CAACmD,iBAAH,CAAqBjD,EAAE,CAACmD,MAAxB,CAA1E,CAAP;AAAoH,CAA/K;;AACAjB,cAAc,CAACkB,IAAf,GAAsB,aAActD,EAAE,CAACuD,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAEpB,cAAR;AAAwBqB,EAAAA,SAAS,EAAE,CAAC,CAAC,gBAAD,CAAD,CAAnC;AAAyDC,EAAAA,KAAK,EAAE,CAAhE;AAAmEC,EAAAA,IAAI,EAAE,CAAzE;AAA4EC,EAAAA,MAAM,EAAE,CAAC,CAAC,OAAD,EAAU,WAAV,EAAuB,CAAvB,EAA0B,MAA1B,CAAD,EAAoC,CAAC,CAAD,EAAI,WAAJ,CAApC,EAAsD,CAAC,CAAD,EAAI,KAAJ,EAAW,wBAAX,CAAtD,EAA4F,CAAC,CAAD,EAAI,UAAJ,CAA5F,EAA6G,CAAC,CAAD,EAAI,MAAJ,EAAY,WAAZ,EAAyB,UAAzB,EAAqC,YAArC,EAAmD,MAAnD,CAA7G,EAAyK,CAAC,CAAD,EAAI,aAAJ,CAAzK,EAA6L,CAAC,CAAD,EAAI,aAAJ,EAAmB,mBAAnB,EAAwC,MAAxC,CAA7L,EAA8O,CAAC,CAAD,EAAI,WAAJ,CAA9O,EAAgQ,CAAC,OAAD,EAAU,mDAAV,EAA+D,CAA/D,EAAkE,MAAlE,CAAhQ,EAA2U,CAAC,CAAD,EAAI,eAAJ,EAAqB,MAArB,CAA3U,EAAyW,CAAC,IAAD,EAAO,UAAP,EAAmB,MAAnB,EAA2B,UAA3B,EAAuC,MAAvC,EAA+C,UAA/C,EAA2D,aAA3D,EAA0E,UAA1E,EAAsF,CAAtF,EAAyF,cAAzF,EAAyG,CAAzG,EAA4G,SAA5G,EAAuH,eAAvH,CAAzW,EAAkf,CAAC,KAAD,EAAQ,UAAR,CAAlf,EAAugB,CAAC,IAAD,EAAO,UAAP,EAAmB,MAAnB,EAA2B,UAA3B,EAAuC,MAAvC,EAA+C,UAA/C,EAA2D,aAA3D,EAA0E,UAA1E,EAAsF,CAAtF,EAAyF,cAAzF,EAAyG,CAAzG,EAA4G,SAA5G,EAAuH,eAAvH,CAAvgB,EAAgpB,CAAC,KAAD,EAAQ,UAAR,CAAhpB,EAAqqB,CAAC,CAAD,EAAI,YAAJ,EAAkB,MAAlB,CAArqB,EAAgsB,CAAC,IAAD,EAAO,aAAP,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C,MAA1C,EAAkD,aAAlD,EAAiE,CAAjE,EAAoE,kBAApE,CAAhsB,EAAyxB,CAAC,KAAD,EAAQ,aAAR,EAAuB,CAAvB,EAA0B,kBAA1B,CAAzxB,EAAw0B,CAAC,CAAD,EAAI,QAAJ,EAAc,oBAAd,EAAoC,yBAApC,EAA+D,MAA/D,EAAuE,MAAvE,CAAx0B,EAAw5B,CAAC,OAAD,EAAU,QAAV,EAAoB,CAApB,EAAuB,KAAvB,EAA8B,aAA9B,EAA6C,CAA7C,EAAgD,OAAhD,CAAx5B,EAAk9B,CAAC,CAAD,EAAI,aAAJ,EAAmB,aAAnB,EAAkC,MAAlC,CAAl9B,EAA6/B,CAAC,CAAD,EAAI,OAAJ,CAA7/B,EAA2gC,CAAC,YAAD,EAAe,WAAf,EAA4B,kBAA5B,EAAgD,QAAhD,CAA3gC,EAAskC,CAAC,CAAD,EAAI,gCAAJ,EAAsC,OAAtC,EAA+C,cAA/C,CAAtkC,CAApF;AAA2tCC,EAAAA,QAAQ,EAAE,SAASC,uBAAT,CAAiCxD,EAAjC,EAAqCC,GAArC,EAA0C;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC90CN,MAAAA,EAAE,CAACmB,UAAH,CAAc,CAAd,EAAiBH,6BAAjB,EAAgD,EAAhD,EAAoD,CAApD,EAAuD,KAAvD,EAA8D,CAA9D;AACH;;AAAC,QAAIV,EAAE,GAAG,CAAT,EAAY;AACVN,MAAAA,EAAE,CAACkC,UAAH,CAAc,MAAd,EAAsB,CAAC3B,GAAG,CAACwC,eAAJ,EAAvB;AACH;AAAE,GAJkD;AAIhDgB,EAAAA,UAAU,EAAE,CAAC5D,EAAE,CAAC6D,IAAJ,EAAU5D,EAAE,CAAC6D,aAAb,EAA4B7D,EAAE,CAAC8D,oBAA/B,EAAqD9D,EAAE,CAAC+D,MAAxD,EAAgE/D,EAAE,CAACgE,oBAAnE,EAAyFhE,EAAE,CAACiE,eAA5F,EAA6GjE,EAAE,CAACkE,OAAhH,EAAyHpE,EAAE,CAACqE,kBAA5H,EAAgJrE,EAAE,CAACsE,gBAAnJ,CAJoC;AAIkIC,EAAAA,MAAM,EAAE,CAAC,mqDAAD;AAJ1I,CAArB,CAApC","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Service/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getErrorCause(), \" \");\n} }\nfunction LoginComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5)(5, \"h3\", 6);\n    i0.ɵɵtext(6, \"Login\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 7)(8, \"form\");\n    i0.ɵɵtemplate(9, LoginComponent_div_0_div_9_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementStart(10, \"div\", 9)(11, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_11_listener($event) { i0.ɵɵrestoreView(_r3); const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.username = $event; });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"label\", 11);\n    i0.ɵɵtext(13, \"Username\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 9)(15, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_15_listener($event) { i0.ɵɵrestoreView(_r3); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.password = $event; });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\", 13);\n    i0.ɵɵtext(17, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 14);\n    i0.ɵɵelement(19, \"input\", 15);\n    i0.ɵɵelementStart(20, \"label\", 16);\n    i0.ɵɵtext(21, \"Remember Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 17)(23, \"input\", 18);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_input_click_23_listener() { i0.ɵɵrestoreView(_r3); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.login(); });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 19)(25, \"div\", 20)(26, \"a\", 21);\n    i0.ɵɵtext(27, \"Need an account? Sign up!\");\n    i0.ɵɵelementEnd()()()()()()();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isError() == true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.password);\n} }\nexport class LoginComponent {\n    constructor(authenticationService, router) {\n        this.authenticationService = authenticationService;\n        this.router = router;\n    }\n    ngOnInit() {\n        this._errors = false;\n        this._errorCause = \"Server error\";\n    }\n    async login() {\n        console.log('apasat');\n        await (await this.authenticationService.login({ username: this.username, password: this.password, email: null }))\n            .forEach(console.log);\n        //  .subscribe(\n        //       (user: CurrentUser) => {\n        //           this._errors = false\n        //           this._errorCause = \"\"\n        //           user.password = this.password\n        //           this.authenticationService.setCurrentUser(user)\n        //           this.router.navigateByUrl(\"/\")\n        //       },\n        //       error =>{\n        //           this._errors = true\n        //           this._errorCause = \"Invalid login data\"\n        //       }\n        //   );\n    }\n    isAuthenticated() {\n        return this.authenticationService.isAuthenticated();\n    }\n    isError() {\n        return this._errors;\n    }\n    getErrorCause() {\n        return this._errorCause;\n    }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.Router)); };\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-user-login\"]], decls: 1, vars: 1, consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-lg-5\"], [1, \"card\", \"shadow-lg\", \"border-0\", \"rounded-lg\", \"mt-5\"], [1, \"card-header\"], [1, \"text-center\", \"font-weight-light\", \"my-4\"], [1, \"card-body\"], [\"class\", \"cross-validation-error-message alert alert-danger\", 4, \"ngIf\"], [1, \"form-floating\", \"mb-3\"], [\"id\", \"username\", \"name\", \"username\", \"type\", \"username\", \"placeholder\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"username\"], [\"id\", \"password\", \"name\", \"password\", \"type\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [1, \"form-check\", \"mb-3\"], [\"id\", \"remember-me\", \"type\", \"checkbox\", \"name\", \"remember-me\", 1, \"form-check-input\"], [\"for\", \"remember-me\", 1, \"form-check-label\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-between\", \"mt-4\", \"mb-0\"], [\"value\", \"Submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"card-footer\", \"text-center\", \"py-3\"], [1, \"small\"], [\"routerLink\", \"/register\", \"routerLinkActive\", \"active\"], [1, \"cross-validation-error-message\", \"alert\", \"alert-danger\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, LoginComponent_div_0_Template, 28, 3, \"div\", 0);\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated());\n    } }, directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i2.RouterLinkWithHref, i2.RouterLinkActive], styles: [\".ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]  {\\n    border-left: 5px solid #42A948; \\n}\\n\\n.ng-invalid[_ngcontent-%COMP%]:not(form)  {\\n    border-left: 5px solid #a94442; \\n}\\n\\n.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n    background-color: #fed3d3;\\n    color: #820000;\\n    padding: 1rem;\\n    margin-bottom: 1rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 1rem;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: .5rem;\\n}\\n\\nselect[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: .5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEIsRUFBRSxVQUFVO0FBQzlDOztBQUVBO0lBQ0ksOEJBQThCLEVBQUUsUUFBUTtBQUM1Qzs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsY0FBYztBQUNsQiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5nLXZhbGlkW3JlcXVpcmVkXSwgLm5nLXZhbGlkLnJlcXVpcmVkICB7XG4gICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjNDJBOTQ4OyAvKiBncmVlbiAqL1xufVxuXG4ubmctaW52YWxpZDpub3QoZm9ybSkgIHtcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNhOTQ0NDI7IC8qIHJlZCAqL1xufVxuXG4uYWxlcnQgZGl2IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVkM2QzO1xuICAgIGNvbG9yOiAjODIwMDAwO1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLmZvcm0tZ3JvdXAge1xuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG59XG5cbmxhYmVsIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYm90dG9tOiAuNXJlbTtcbn1cblxuc2VsZWN0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAuNXJlbTtcbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}